<!DOCTYPE HTML>
<html lang="zh-Hans">


<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    <meta name="keywords" content="Byy">
    <meta name="description" content>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>Byy</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<link rel="stylesheet" href="/css/prism.css" type="text/css"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">Byy</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>Index</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>Tags</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>Categories</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>Archives</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>About</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>Contact</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>Friends</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="Search" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">Byy</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			Index
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			Tags
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			Categories
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			Archives
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			About
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			Contact
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			Friends
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/yang295513/yang295513.github.io.git" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/yang295513/yang295513.github.io.git" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/0.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title"></h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        height: calc(100vh - 250px);
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    .toc-fixed .toc-link::before{
        position: fixed!important;/*å½tocçä½ç½®æ¹ä¸ºfixedæ¶ï¼.toc-link::beforeä¹è¦æ¹ä¸ºfixed*/
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #toc-content .is-active-link::before {
        background-color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- æç« åå®¹è¯¦æ -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                          <div class="article-tag">
                            <span class="chip bg-color">No tag</span>
                          </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>Publish Date:&nbsp;&nbsp;
                    2020-04-28
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>Update Date:&nbsp;&nbsp;
                    2020-05-04
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>Word Count:&nbsp;&nbsp;
                    7.9k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>Read Times:&nbsp;&nbsp;
                    28 Min
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>Read Count:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <p>title: jvmå­¦ä¹ ç¬¬ä¸å¤©-èªå¨åå­ç®¡ç<br>date: 2020-03-14 17:35:56<br>tags: </p>
<ul>
<li>jvm</li>
<li>java</li>
<li>èææº</li>
</ul>
<h2 id="è¿è¡æ¶æ°æ®åºå"><a href="#è¿è¡æ¶æ°æ®åºå" class="headerlink" title="è¿è¡æ¶æ°æ®åºå"></a>è¿è¡æ¶æ°æ®åºå</h2><p><img src="/upload/1584511913647.png" alt="1584511913647"></p>
<ul>
<li>æ¹æ³åº</li>
<li>å </li>
<li>èææºæ </li>
<li>æ¬å°æ¹æ³æ </li>
<li>ç¨åºè®¡æ°å¨</li>
</ul>
<p>å¶ä¸­åä¸¤ä¸ªæ¯çº¿ç¨å±äº«çï¼åä¸ä¸ªæ¯çº¿ç¨ç¬æç</p>
<h2 id="ç¨åºè®¡æ°å¨"><a href="#ç¨åºè®¡æ°å¨" class="headerlink" title="ç¨åºè®¡æ°å¨"></a>ç¨åºè®¡æ°å¨</h2><blockquote>
<p>ç¨åºè®¡æ°å¨æ¯ä¸ä¸ªè®°å½çå½åçº¿ç¨ææ§è¡çå­èç çè¡å·æç¤ºå¨ã</p>
</blockquote>
<p>å¦æçº¿ç¨æ§è¡çæ¯ä¸ä¸ªjavaæ¹æ³ï¼é£ä¹è¿ä¸ªè®¡æ°å¨å°±è¡¨ç¤ºæ­£å¨æ§è¡çèææºå­èç å°å</p>
<p>å¦æè¿ä¸ªçº¿ç¨æ§è¡çæ¯æ¬å°ï¼Nativeï¼æ¹æ³ï¼é£ä¹è¿ä¸ªè®¡æ°å¨çå¼ä¸ºç©º</p>
<h2 id="èææºæ "><a href="#èææºæ " class="headerlink" title="èææºæ "></a>èææºæ </h2><h4 id="æ ä¸å çåºå«"><a href="#æ ä¸å çåºå«" class="headerlink" title="æ ä¸å çåºå«"></a>æ ä¸å çåºå«</h4><p>æ æ¯ä¸ç§è¿è¡æ¶ç»æï¼å æ¯ä¸ç§å­å¨ç»æ</p>
<h4 id="èææºæ ç¹ç¹"><a href="#èææºæ ç¹ç¹" class="headerlink" title="èææºæ ç¹ç¹"></a>èææºæ ç¹ç¹</h4><ul>
<li>åç¨åºè®¡æ°å¨ä¸æ ·æ¯<strong>çº¿ç¨ç§æ</strong>ç</li>
<li>ä¼äº§çooméè¯¯ï¼åææ¯èææºæ å¯ä»¥å¨ææ©å±ï¼hospotèææºä¸æ¯æå¨ææ©å±ï¼ä½æ¯Classicèææºæ¯æï¼</li>
<li>StackOverFlowErroréè¯¯</li>
<li>ä¸éè¦GCï¼åå¾åæ¶ï¼</li>
<li>æ ççå½å¨æåçº¿ç¨ç¸å</li>
</ul>
<h4 id="èææºæ è¿è¡è¿ç¨"><a href="#èææºæ è¿è¡è¿ç¨" class="headerlink" title="èææºæ è¿è¡è¿ç¨"></a>èææºæ è¿è¡è¿ç¨</h4><p><strong>æ¯ä¸ªæ¹æ³è¢«æ§è¡çæ¶åï¼javaèææºé½ä¼å¨èææºæ åå»ºä¸ä¸ªæ å¸§</strong>ï¼å½ç¶ï¼æ¯ä¸ªæ¹æ³ç»æåé½ä¼ç§»é¤è¯¥æ å¸§ï¼ä¹å°±æ¯è¯´å¨æ é¡¶çæ å¸§ä¸å®æ¯å½åæ§è¡çæ¹æ³çæ å¸§.</p>
<p><strong>å¨ç¼è¯ç¨åºä»£ç çæ¶åï¼æ å¸§ä¸­éè¦å¤å¤§çå±é¨åéè¡¨åå­ï¼å¤æ·±çæä½æ°æ é½å·²ç»å®å¨ç¡®å®äºã</strong></p>
<p><strong>å æ­¤ä¸ä¸ªæ å¸§éè¦åéå¤å°åå­ï¼ä¸ä¼åå°ç¨åºè¿è¡æåéæ°æ®çå½±åï¼èä»ä»åå³äºå·ä½çèææºå®ç°ã</strong></p>
<p><img src="/upload/1584512387954.png" alt="1584512387954"></p>
<h4 id="æ å¸§"><a href="#æ å¸§" class="headerlink" title="æ å¸§"></a>æ å¸§</h4><blockquote>
<p>æ å¸§åå«å±é¨åéè¡¨ï¼æä½æ°æ ï¼å¨æè¿æ¥ï¼æ¹æ³åºå£ç­ä¿¡æ¯</p>
</blockquote>
<p>ä¸¤ä¸ªæ å¸§çæ°æ®å±äº«</p>
<p><img src="/upload/1584600568274.png" alt="1584600568274"></p>
<h4 id="å±é¨åéè¡¨çå±äº«"><a href="#å±é¨åéè¡¨çå±äº«" class="headerlink" title="å±é¨åéè¡¨çå±äº«"></a>å±é¨åéè¡¨çå±äº«</h4><p> å¨æ¦å¿µæ¨¡åä¸­ï¼ä¸¤ä¸ªä¸åæ å¸§ä½ä¸ºä¸åæ¹æ³çèææºæ çåç´ ï¼æ¯å®å¨ç¸äºç¬ç«çï¼ä½æ¯å¤§å¤èææºçå®ç°éé½ä¼è¿è¡ä¸äºä¼åå¤çï¼ä¸¤ä¸ªæ å¸§åºç°ä¸é¨åéå ï¼è¿æ ·åä¸ä»èçº¦äºä¸äºç©ºé´ï¼æ´éè¦çæ¯è¿è¡æ¹æ³è°ç¨æ¶å°±å¯ä»¥ç´æ¥å±ç¨ä¸é¨åæ°æ®ã</p>
<h4 id="å±é¨åéè¡¨"><a href="#å±é¨åéè¡¨" class="headerlink" title="å±é¨åéè¡¨"></a>å±é¨åéè¡¨</h4><p>å­æ¾äºç¼è¯æå¯ç¥çåç§javaèææº<strong>åºæ¬æ°æ®ç±»å</strong>å<strong>å¯¹è±¡å¼ç¨ç±»å</strong>ï¼referenceï¼ï¼ä¹æå¯è½æ¯<strong>æåå¯¹è±¡çèµ·å§å°å</strong>æèä»£è¡¨ä¸ä¸ª<strong>å¯¹è±¡çå¥æ</strong></p>
<p><strong>å±é¨åéè¡¨å¨ç¼è¯æé´ç¡®å®å¤§å°</strong></p>
<h4 id="åéæ§½"><a href="#åéæ§½" class="headerlink" title="åéæ§½"></a>åéæ§½</h4><p>å±é¨åéçå­å¨ä½¿ç¨åéæ§½è¡¨ç¤ºï¼å¶ä¸­longådoubleä½¿ç¨ä¸¤ä¸ªåéæ§½</p>
<p><strong>å¨æ¹æ³è¿è¡æé´ä¸ä¼æ¹åå±é¨åéè¡¨çå¤§å°ï¼ï¼å¤§å°æçæ¯ä¸ä¼æ¹ååéæ§½çæ°éï¼</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Slotå¤ç¨ </span><br><span class="line"></span><br><span class="line">ä¸ºäºå°½å¯è½èçæ å¸§ç©ºé´ï¼å±é¨åéè¡¨ä¸­çSlotæ¯å¯ä»¥éç¨çï¼</span><br><span class="line">ä¹å°±æ¯è¯´å½PCè®¡æ°å¨çæä»¤æå·²ç»è¶åºäºæä¸ªåéçä½ç¨åï¼æ§è¡å®æ¯ï¼ï¼</span><br><span class="line">é£è¿ä¸ªåéå¯¹åºçSlotå°±å¯ä»¥äº¤ç»å¶ä»åéä½¿ç¨ã</span><br><span class="line"></span><br><span class="line">ä¼ç¹ ï¼ èçæ å¸§ç©ºé´ã </span><br><span class="line"></span><br><span class="line">ç¼ºç¹ ï¼ å½±åå°ç³»ç»çåå¾æ¶éè¡ä¸ºã</span><br><span class="line"></span><br><span class="line">ï¼å¦å¤§æ¹æ³å ç¨è¾å¤çSlotï¼æ§è¡å®è¯¥æ¹æ³çä½ç¨ååæ²¡æå¯¹Slotèµå¼æèæ¸ç©ºè®¾ç½®nullå¼ï¼åå¾åæ¶å¨ä¾¿ä¸è½åæ¶çåæ¶è¯¥åå­ãï¼</span><br></pre></td></tr></table></figure>

<h4 id="åéæ§½çå¤ç¨"><a href="#åéæ§½çå¤ç¨" class="headerlink" title="åéæ§½çå¤ç¨"></a>åéæ§½çå¤ç¨</h4><p>å½ä¸ä¸ªåéè¶åºäºä»çä½ç¨åèå´ï¼é£ä¹è¿ä¸ªåéçä½ç½®å¯ä»¥è¢«å¤ç¨.</p>
<h5 id="æ¼ç¤º"><a href="#æ¼ç¤º" class="headerlink" title="æ¼ç¤º"></a>æ¼ç¤º</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">       <span class="keyword">int</span> a=<span class="number">1</span>;</span><br><span class="line">       &#123;</span><br><span class="line">           <span class="keyword">int</span> b=a;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">int</span> c=<span class="number">2</span>;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p>å å¥ä¸è¿°ä»£ç ä¸å­å¨å¤ç¨çæåµä¸åºè¯¥æ¯4ä¸ªå±é¨åéï¼ä½æ¯ç±äºbçä½ç¨åèå´è¶åºäºï¼æä»¥bçåéæ§½å°±è¢«cæå¤ç¨ãä¹å°±æ¯æ°ä¸è¿°ä»£ç åéçå±é¨åéé¿åº¦ä¸º3</p>
<p><img src="/upload/1584524922159.png" alt="1584524922159"></p>
<h4 id="å¼å¸¸"><a href="#å¼å¸¸" class="headerlink" title="å¼å¸¸"></a>å¼å¸¸</h4><p>å¦æçº¿ç¨è¯·æ±çæ æ·±åº¦å¤§äºèææºæåè®¸çæ·±åº¦ï¼åä¼æåº<strong>StackOverFlowError</strong>å¼å¸¸ï¼å¦æèææºæ å®¹é<strong>å¯ä»¥å¨æ</strong>æ©å±ï¼å½æ æ©å±æ æ³ç³è¯·å°æ°çåå­çæ¶åä¼æåº<strong>OutOfMemoryError</strong>å¼å¸¸</p>
<h4 id="æä½æ°æ "><a href="#æä½æ°æ " class="headerlink" title="æä½æ°æ "></a>æä½æ°æ </h4><p>æ¯ä¸ä¸ªåå¥ååºçæ ï¼åå±é¨åéè¡¨ä¸æ ·ï¼å¨<strong>ç¼è¯æ¶åä»çæå¤§æ·±åº¦è¢«åå¥å°äºCodeå±æ§çmax_stacksæ°æ®é¡¹ä¸­</strong>ï¼å¶ä¸­32ä½æ°æ®å ç¨å®¹éä¸º1,64ä½æä½æ°å ç¨å®¹éä¸º2</p>
<h2 id="æ¬å°æ¹æ³æ "><a href="#æ¬å°æ¹æ³æ " class="headerlink" title="æ¬å°æ¹æ³æ "></a>æ¬å°æ¹æ³æ </h2><blockquote>
<p>æ¬å°æ¹æ³æ åèææºæ åè½æ¯éå¸¸ç±»ä¼¼çï¼å¼å¸¸ä¹æ¯éå¸¸ç±»ä¼¼ï¼æ¬å°æ¹æ³æ å°±æ¯æ§è¡ä¸äºï¼Nativeï¼çæ¬å°æ¹æ³</p>
</blockquote>
<p>å¨Hot-Spotèææºä¸­å°èææºæ åæ¬å°æ¹æ³æ åäºä¸ºä¸</p>
<h2 id="JAVAå "><a href="#JAVAå " class="headerlink" title="JAVAå "></a>JAVAå </h2><p>javaå æ¯<strong>èææºæç®¡ççåå­</strong>ä¸­æå¤§çä¸åãï¼æ³¨ææ¯èææºç®¡çï¼</p>
<h4 id="ä½ç¨"><a href="#ä½ç¨" class="headerlink" title="ä½ç¨"></a>ä½ç¨</h4><p>å­æ¾å¯¹è±¡å®ä¾åæ°ç»</p>
<p>javaå¯¹è±¡å®ä¾<strong>å ä¹</strong>é½å¨è¿ä¸é¢å­æ¾ï¼æ³¨æå ä¹ï¼</p>
<h4 id="ç¹ç¹"><a href="#ç¹ç¹" class="headerlink" title="ç¹ç¹"></a>ç¹ç¹</h4><ul>
<li>javaå è¢«ææççº¿ç¨æå±äº«</li>
<li>javaå å¨ç©çä¸å¯ä»¥æ¯ä¸è¿ç»­çï¼ä½æ¯å¨é»è¾ä¸åºè¯¥è¢«è§ä¸ºè¿ç»­ç</li>
<li>å å¤§å°æ¯å¯ä»¥åºå®çï¼ä¹æ¯å¯ä»¥è®¾ç½®å¤§å°çï¼éè¿-Xmxå-Xmsè®¾ç½®ï¼,ä¹æ¯å¯ä»¥èªå¨æ©å±ç</li>
<li>å¦æjavaèææºæ²¡æå®æå®ä¾åéï¼å¹¶ä¸å ä¹æ æ³å¨æ©å±æ¶ï¼javaèææºå°ä¼æåº<strong>OutOfMemoryError</strong>å¼å¸¸</li>
</ul>
<h4 id="å¨javaä¸­å¯¹è±¡ä¸å®æ¯å¨å ä¸­åéåï¼"><a href="#å¨javaä¸­å¯¹è±¡ä¸å®æ¯å¨å ä¸­åéåï¼" class="headerlink" title="å¨javaä¸­å¯¹è±¡ä¸å®æ¯å¨å ä¸­åéåï¼"></a>å¨javaä¸­å¯¹è±¡ä¸å®æ¯å¨å ä¸­åéåï¼</h4><p><strong>å¨Javaèææºä¸­ï¼å¯¹è±¡æ¯å¨Javaå ä¸­åéåå­çï¼è¿æ¯ä¸ä¸ªæ®éçå¸¸è¯ãä½æ¯ï¼æä¸ç§ç¹æ®æåµï¼é£å°±æ¯å¦æç»è¿éé¸åæååç°ï¼ä¸ä¸ªå¯¹è±¡å¹¶æ²¡æéé¸åºæ¹æ³çè¯ï¼é£ä¹å°±å¯è½è¢«ä¼åææ ä¸åéãè¿æ ·å°±æ éå¨å ä¸åéåå­ï¼ä¹æ é¡»è¿è¡åå¾åæ¶äºã</strong></p>
<h2 id="æ¹æ³åº"><a href="#æ¹æ³åº" class="headerlink" title="æ¹æ³åº"></a>æ¹æ³åº</h2><p>åjavaå ä¸æ ·æ¯åä¸ªçº¿ç¨å±äº«çåå­åºåï¼ä»ç¨äºå­å¨å·²ç»è¢«<strong>èææºå è½½çç±»åä¿¡æ¯ï¼å¸¸éï¼éæåé</strong>ï¼å³æ¶ç¼è¯å¨ç¼è¯åçä»£ç ç¼å­ç­æ°æ®ï¼è¿éä¹æ¯<strong><em>éè¦åå¾åæ¶</em></strong>çã</p>
<p>å¨JDK8ä¹åï¼Hospotèææºéç¨æ°¸ä¹ä»£æ¥å®ç°æ¹æ³åºï¼åå å°±æ¯å¯ä»¥å§åå¾æ¶éå¨çåä»£è®¾è®¡æ©å±å°æ¹æ³åºï¼ä½æ¯å®¹æå¯¼è´åå­æº¢åºçé®é¢ï¼å¨JDK8ä¹åä½¿ç¨åç©ºé´å®ç°ã</p>
<h4 id="è¿è¡æ¶å¸¸éæ± "><a href="#è¿è¡æ¶å¸¸éæ± " class="headerlink" title="è¿è¡æ¶å¸¸éæ± "></a>è¿è¡æ¶å¸¸éæ± </h4><p>è¿è¡æ¶å¸¸éæ± æ¯æ¹æ³åºçä¸é¨åãClassæä»¶ä¸­é¤äºæç±»ççæ¬ï¼å­æ®µï¼æ¹æ³ï¼æ¥å£ç­æè¿°ä¿¡æ¯å¤ï¼è¿æä¸é¡¹å°±æ¯å¸¸éæ± ãå¹¶ä¸å¸¸éæ± ç¸å¯¹äºClassæä»¶çå¦ä¸ä¸ªéè¦ç¹å¾å°±æ¯å·å¤å¨ææ§</p>
<blockquote>
<p>ç¨äºå­æ¾ç¼è¯æçæçåç§å­é¢éä¸ç¬¦å·å¼ç¨ï¼è¿äºåå®¹å¨ç±»å è½½åå­æ¾å°æ¹æ³åºçè¿è¡æ¶å¸¸éæ± ä¸­ã</p>
</blockquote>
<p>å¸¸éæ± æ æ³ç³è¯·å°åå­æ¶ä¼æåº<strong>OutOfMemoryError</strong>å¼å¸¸</p>
<h4 id="ç´æ¥åå­"><a href="#ç´æ¥åå­" class="headerlink" title="ç´æ¥åå­"></a>ç´æ¥åå­</h4><p>å¨JDK1.4ä¸­å å¥äºNIOç±»ï¼å¼å¥äºåºäºééä¸ç¼å²åºçI/Oæ¹å¼ï¼å¯ä»¥ä½¿ç¨Nativeå½æ°ç´æ¥åéå å¤åå­ï¼é¿åäºå¨javaå ä¸­åNativeä¸­æ¥åå¤å¶æ°æ®ï¼å¦ææ æ³å¨ææ©å±æ¶å°±ä¼åºç°<strong>OutOfMemoryError</strong>æº¢å¼å¸¸</p>
<h3 id="å¯¹è±¡çåå­å¸å±"><a href="#å¯¹è±¡çåå­å¸å±" class="headerlink" title="å¯¹è±¡çåå­å¸å±"></a>å¯¹è±¡çåå­å¸å±</h3><p>ä¸ä¸ªJavaå¯¹è±¡å¨åå­ä¸­åæ¬å¯¹è±¡å¤´ãå®ä¾æ°æ®åè¡¥é½å¡«å3ä¸ªé¨åï¼</p>
<p><img src="/upload/5401975-4c082ac80e1c042c.webp" alt="img"></p>
<h3 id="å¯¹è±¡å¤´"><a href="#å¯¹è±¡å¤´" class="headerlink" title="å¯¹è±¡å¤´"></a>å¯¹è±¡å¤´</h3><ul>
<li><strong>Mark Word</strong>ï¼åå«ä¸ç³»åçæ è®°ä½ï¼æ¯å¦è½»éçº§éçæ è®°ä½ï¼ååéæ è®°ä½ç­ç­ãå¨32ä½ç³»ç»å 4å­èï¼å¨64ä½ç³»ç»ä¸­å 8å­èï¼</li>
<li><strong>Class Pointer</strong>ï¼ç¨æ¥æåå¯¹è±¡å¯¹åºçClasså¯¹è±¡ï¼å¶å¯¹åºçåæ°æ®å¯¹è±¡ï¼çåå­å°åãå¨32ä½ç³»ç»å 4å­èï¼å¨64ä½ç³»ç»ä¸­å 8å­èï¼</li>
<li><strong>Length</strong>ï¼å¦ææ¯æ°ç»å¯¹è±¡ï¼è¿æä¸ä¸ªä¿å­æ°ç»é¿åº¦çç©ºé´ï¼å 4ä¸ªå­èï¼</li>
</ul>
<h3 id="å¯¹è±¡å®éæ°æ®"><a href="#å¯¹è±¡å®éæ°æ®" class="headerlink" title="å¯¹è±¡å®éæ°æ®"></a>å¯¹è±¡å®éæ°æ®</h3><p>å¯¹è±¡å®éæ°æ®åæ¬äºå¯¹è±¡çæææååéï¼å¶å¤§å°ç±åä¸ªæååéçå¤§å°å³å®ï¼æ¯å¦ï¼byteåbooleanæ¯1ä¸ªå­èï¼shortåcharæ¯2ä¸ªå­èï¼intåfloatæ¯4ä¸ªå­èï¼longådoubleæ¯8ä¸ªå­èï¼referenceæ¯4ä¸ªå­èï¼64ä½ç³»ç»ä¸­æ¯8ä¸ªå­èï¼ã</p>
<table>
<thead>
<tr>
<th>Primitive Type</th>
<th>Memory Required(bytes)</th>
</tr>
</thead>
<tbody><tr>
<td>boolean</td>
<td>1</td>
</tr>
<tr>
<td>byte</td>
<td>1</td>
</tr>
<tr>
<td>short</td>
<td>2</td>
</tr>
<tr>
<td>char</td>
<td>2</td>
</tr>
<tr>
<td>int</td>
<td>4</td>
</tr>
<tr>
<td>float</td>
<td>4</td>
</tr>
<tr>
<td>long</td>
<td>8</td>
</tr>
<tr>
<td>double</td>
<td>8</td>
</tr>
</tbody></table>
<p>å¯¹äºreferenceç±»åæ¥è¯´ï¼å¨32ä½ç³»ç»ä¸å ç¨4bytes, å¨64ä½ç³»ç»ä¸å ç¨8bytesã</p>
<h3 id="å¯¹é½å¡«å"><a href="#å¯¹é½å¡«å" class="headerlink" title="å¯¹é½å¡«å"></a>å¯¹é½å¡«å</h3><p>Javaå¯¹è±¡å ç¨ç©ºé´æ¯8å­èå¯¹é½çï¼å³ææJavaå¯¹è±¡å ç¨bytesæ°å¿é¡»æ¯8çåæ°ãä¾å¦ï¼ä¸ä¸ªåå«ä¸¤ä¸ªå±æ§çå¯¹è±¡ï¼intåbyteï¼è¿ä¸ªå¯¹è±¡éè¦å ç¨8+4+1=13ä¸ªå­èï¼è¿æ¶å°±éè¦å ä¸å¤§å°ä¸º3å­èçpaddingè¿è¡8å­èå¯¹é½ï¼æç»å ç¨å¤§å°ä¸º16ä¸ªå­èã</p>
<p>æ³¨æï¼ä»¥ä¸å¯¹64ä½æä½ç³»ç»çæè¿°æ¯æªå¼å¯æéåç¼©çæåµï¼å³äºæéåç¼©ä¼å¨ä¸æä¸­ä»ç»ã</p>
<h3 id="å¯¹è±¡å¤´å ç¨ç©ºé´å¤§å°"><a href="#å¯¹è±¡å¤´å ç¨ç©ºé´å¤§å°" class="headerlink" title="å¯¹è±¡å¤´å ç¨ç©ºé´å¤§å°"></a>å¯¹è±¡å¤´å ç¨ç©ºé´å¤§å°</h3><p>è¿éè¯´æä¸ä¸32ä½ç³»ç»å64ä½ç³»ç»ä¸­å¯¹è±¡æå ç¨åå­ç©ºé´çå¤§å°ï¼</p>
<ul>
<li>å¨32ä½ç³»ç»ä¸ï¼å­æ¾Class Pointerçç©ºé´å¤§å°æ¯4å­èï¼MarkWordæ¯4å­èï¼å¯¹è±¡å¤´ä¸º8å­è;</li>
<li>å¨64ä½ç³»ç»ä¸ï¼å­æ¾Class Pointerçç©ºé´å¤§å°æ¯8å­èï¼MarkWordæ¯8å­èï¼å¯¹è±¡å¤´ä¸º16å­è;</li>
<li>64ä½å¼å¯æéåç¼©çæåµä¸ï¼å­æ¾Class Pointerçç©ºé´å¤§å°æ¯4å­èï¼<code>MarkWord</code>æ¯8å­èï¼å¯¹è±¡å¤´ä¸º12å­è;</li>
<li>å¦ææ¯æ°ç»å¯¹è±¡ï¼å¯¹è±¡å¤´çå¤§å°ä¸ºï¼æ°ç»å¯¹è±¡å¤´8å­è+æ°ç»é¿åº¦4å­è+å¯¹é½4å­è=16å­èãå¶ä¸­å¯¹è±¡å¼ç¨å 4å­èï¼æªå¼å¯æéåç¼©ç64ä½ä¸º8å­èï¼ï¼æ°ç»<code>MarkWord</code>ä¸º4å­èï¼64ä½æªå¼å¯æéåç¼©çä¸º8å­èï¼;</li>
<li>éæå±æ§ä¸ç®å¨å¯¹è±¡å¤§å°åã</li>
</ul>
<h3 id="æéåç¼©"><a href="#æéåç¼©" class="headerlink" title="æéåç¼©"></a>æéåç¼©</h3><p>ä»ä¸æçåæä¸­å¯ä»¥çå°ï¼64ä½JVMæ¶èçåå­ä¼æ¯32ä½çè¦å¤å¤§çº¦1.5åï¼è¿æ¯å ä¸ºå¯¹è±¡æéå¨64ä½JVMä¸ææ´å®½çå¯»åãå¯¹äºé£äºå°è¦ä»32ä½å¹³å°ç§»æ¤å°64ä½çåºç¨æ¥è¯´ï¼å¹³ç½æ è¾å¤äº1/2çåå­å ç¨ï¼è¿æ¯å¼åèä¸æ¿æçå°çã</p>
<p>ä»JDK 1.6 update14å¼å§ï¼64ä½çJVMæ­£å¼æ¯æäº -XX:+UseCompressedOops è¿ä¸ªå¯ä»¥åç¼©æéï¼èµ·å°èçº¦åå­å ç¨çæ°åæ°ã</p>
<h3 id="ä»ä¹æ¯OOPï¼"><a href="#ä»ä¹æ¯OOPï¼" class="headerlink" title="ä»ä¹æ¯OOPï¼"></a>ä»ä¹æ¯OOPï¼</h3><p>OOPçå¨ç§°ä¸ºï¼Ordinary Object Pointerï¼å°±æ¯æ®éå¯¹è±¡æéãå¯ç¨CompressOopsåï¼ä¼åç¼©çå¯¹è±¡ï¼</p>
<ul>
<li>æ¯ä¸ªClassçå±æ§æéï¼éææååéï¼ï¼</li>
<li>æ¯ä¸ªå¯¹è±¡çå±æ§æéï¼</li>
<li>æ®éå¯¹è±¡æ°ç»çæ¯ä¸ªåç´ æéã</li>
</ul>
<p>å½ç¶ï¼åç¼©ä¹ä¸æ¯ææçæéé½ä¼åç¼©ï¼å¯¹ä¸äºç¹æ®ç±»åçæéï¼JVMæ¯ä¸ä¼ä¼åçï¼ä¾å¦æåPermGençClasså¯¹è±¡æéãæ¬å°åéãå æ åç´ ãå¥åãè¿åå¼åNULLæéä¸ä¼è¢«åç¼©ã</p>
<h3 id="å¯ç¨æéåç¼©"><a href="#å¯ç¨æéåç¼©" class="headerlink" title="å¯ç¨æéåç¼©"></a>å¯ç¨æéåç¼©</h3><p>å¨Javaç¨åºå¯å¨æ¶å¢å JVMåæ°ï¼<code>-XX:+UseCompressedOops</code>æ¥å¯ç¨ã</p>
<p><em>æ³¨æï¼32ä½HotSpot VMæ¯ä¸æ¯æUseCompressedOopsåæ°çï¼åªæ64ä½HotSpot VMææ¯æã</em></p>
<p>æ¬æä¸­ä½¿ç¨çæ¯JDK 1.8ï¼é»è®¤è¯¥åæ°å°±æ¯å¼å¯çã</p>
<h3 id="åè£ç±»å"><a href="#åè£ç±»å" class="headerlink" title="åè£ç±»å"></a>åè£ç±»å</h3><p>åè£ç±»ï¼Boolean/Byte/Short/Character/Integer/Long/Double/Floatï¼å ç¨åå­çå¤§å°ç­äºå¯¹è±¡å¤´å¤§å°å ä¸åºå±åºç¡æ°æ®ç±»åçå¤§å°ã</p>
<p>åè£ç±»åçRetained Sizeå ç¨æåµå¦ä¸ï¼</p>
<table>
<thead>
<tr>
<th align="center">æ°æ®ç±»å</th>
<th align="center">å¼å¯æéåç¼©</th>
<th align="center">å³é­æéåç¼©</th>
</tr>
</thead>
<tbody><tr>
<td align="center">Byte, Boolean</td>
<td align="center">16 bytes</td>
<td align="center">24 bytes</td>
</tr>
<tr>
<td align="center">Short, Character</td>
<td align="center">16 bytes</td>
<td align="center">24 bytes</td>
</tr>
<tr>
<td align="center">Integer, Float</td>
<td align="center">16 bytes</td>
<td align="center">24 bytes</td>
</tr>
<tr>
<td align="center">Long, Double</td>
<td align="center">24 bytes</td>
<td align="center">24 bytes</td>
</tr>
</tbody></table>
<h3 id="å¯¹è±¡å¤´è§£è¯»"><a href="#å¯¹è±¡å¤´è§£è¯»" class="headerlink" title="å¯¹è±¡å¤´è§£è¯»"></a>å¯¹è±¡å¤´è§£è¯»</h3><p>æä½¿ç¨çç¯å¢æ¯64ä½JDK1.8ï¼å¹¶ä¸å¼å¯äºæéåç¼©</p>
<p><img src="/upload/1585388372077.png" alt="1585388372077"></p>
<p>å¦æè¦æ¥çå¯¹è±¡å¤´ä¿¡æ¯éè¦å¯¼å¥å</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.openjdk.jol<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jol-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.8<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä¾å¦ä»£ç </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Oop</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Ob ob = <span class="keyword">new</span> Ob();</span><br><span class="line">        ob.hashCode();</span><br><span class="line">        System.out.println(<span class="string">"hashCode="</span>+Integer.toHexString(ob.hashCode()));<span class="comment">//åªæä½¿ç¨è¿äºhashCodeMarkWordéé¢æä¼æhashCode</span></span><br><span class="line">        System.out.println(ClassLayout.parseInstance(ob).toPrintable());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Ob</span></span>&#123;</span><br><span class="line">    Long a;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">int</span> sa;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æå°ç»æ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">hashCode=6d6f6e28</span><br><span class="line">Ob object internals:</span><br><span class="line"> OFFSET  SIZE             TYPE DESCRIPTION                               VALUE</span><br><span class="line">      0     4                  (object header)                           01 28 6e 6f (00000001 00101000 01101110 01101111) (1869490177)</span><br><span class="line">      4     4                  (object header)                           6d 00 00 00 (01101101 00000000 00000000 00000000) (109)</span><br><span class="line">      8     4                  (object header)                           43 c1 00 f8 (01000011 11000001 00000000 11111000) (-134168253)</span><br><span class="line">     12     4   java.lang.Long Ob.a                                      null</span><br><span class="line">Instance size: 16 bytes</span><br><span class="line">Space losses: 0 bytes internal + 0 bytes external = 0 bytes total</span><br></pre></td></tr></table></figure>

<p>ç±äºå­å¨å¤§ç«¯åå°ç«¯çè¯»æ³ï¼æä»¥hashCodeæ­£å¥½ç¸åã</p>
<p>å¶ä¸­æåä¸ä¸ªå­è01å­èç å¯¹åºçäºè¿å¶æ¯00000001ï¼æ ¹æ®å¾å¯ç¥0 æ¯cms_freeï¼0000æ¯åä»£å¹´é¾ï¼01è¡¨ææ¯æ éç¶æ</p>
<h2 id="å¯¹è±¡çåå»ºè¿ç¨"><a href="#å¯¹è±¡çåå»ºè¿ç¨" class="headerlink" title="å¯¹è±¡çåå»ºè¿ç¨"></a>å¯¹è±¡çåå»ºè¿ç¨</h2><ul>
<li>å½javaèææºéå°å­èç newçæ¶åé¦åæ£æ¥è¿ä¸ªæä»¤çåæ°è½å¦å¨å¸¸éæ± ä¸­å®ä½å°ä¸ä¸ªç±»çç¬¦å·å¼ç¨ã</li>
<li>å¹¶ä¸æ£æ¥è¿ä¸ªç¬¦å·çå¼ç¨ä»£è¡¨çç±»æ¯å¦å·²ç»è¢«å è½½ãè§£æååå§åã</li>
<li>å¦ææ²¡æå°±æ§è¡ç±»çå è½½ãè§£æååå§åã</li>
<li>å¨ç±»çå è½½æ£æ¥éè¿åï¼èææºå°ä¼ä¸ºæ°çå¯¹è±¡åéåå­ãå¯¹è±¡æéè¦åå­çå¤§å°å¨ç±»å è½½åä¾¿å¯å®å¨ç¡®å®ã</li>
<li>å¨å®æåå­åéåèææºè¿è¦å¯¹å¯¹è±¡è¿è¡å¿è¦çè®¾è®¡ï¼ä¾å¦è¿ä¸ªå¯¹è±¡æ¯åªä¸ªç±»çå®ä¾ï¼å¦ä½æè½æ¾å°ç±»çåæ°æ®ä¿¡æ¯ï¼å¯¹è±¡çåå¸ç ï¼å¯¹è±¡GCçå¹´é¾ç­ã</li>
<li>ä¹åå¨èææºçè§åº¦æ¥çï¼ä¸ä¸ªæ°çå¯¹è±¡å·²ç»äº§çäºãä½æ¯è¿éè¦è°ç¨&lt; cinit &gt;å&lt; init &gt; </li>
</ul>
<h2 id="å¦ä½å¤æ­å¯¹è±¡æ¯å¦æ­»äº¡"><a href="#å¦ä½å¤æ­å¯¹è±¡æ¯å¦æ­»äº¡" class="headerlink" title="å¦ä½å¤æ­å¯¹è±¡æ¯å¦æ­»äº¡"></a>å¦ä½å¤æ­å¯¹è±¡æ¯å¦æ­»äº¡</h2><p>æé¡¹ç ç©¶è¡¨æï¼æ°çä»£ä¸­çåå­æç¾åä¹98ç¬ä¸è¿ç¬¬ä¸è½®åæ¶</p>
<h4 id="å¼ç¨è®¡æ°æ³"><a href="#å¼ç¨è®¡æ°æ³" class="headerlink" title="å¼ç¨è®¡æ°æ³"></a>å¼ç¨è®¡æ°æ³</h4><p>å¨å¯¹è±¡çåé¨æ·»å ä¸ä¸ªå¼ç¨è®¡æ°å¨ï¼å½ä¸ä¸ªå°æ¹å¼ç¨å®æ¶è®¡æ°å¨å°±å ä¸ï¼å½å¼ç¨å¤±ææ¶ï¼è®¡æ°å¨å¼å°±åä¸ï¼ï¼javaèææºå¹¶ä¸æ¯ä½¿ç¨è¿ç§æ¹æ³æ¥è¿è¡å¤å®çï¼</p>
<h5 id="ç¹ç¹-1"><a href="#ç¹ç¹-1" class="headerlink" title="ç¹ç¹"></a>ç¹ç¹</h5><h6 id="ä¼ç¹"><a href="#ä¼ç¹" class="headerlink" title="ä¼ç¹"></a>ä¼ç¹</h6><p>è½ç¶å ç¨äºä¸äºé¢å¤åå­ç©ºé´ï¼ä½æ¯å®åçå¾ç®åï¼å¤å®æçä¹å¾é«ã</p>
<h6 id="ç¼ºç¹"><a href="#ç¼ºç¹" class="headerlink" title="ç¼ºç¹"></a>ç¼ºç¹</h6><p>å¦æä¸¤ä¸ªå¯¹è±¡çéæåéç¸äºææå¯¹æ¹ï¼å¹¶ä¸è¿ä¸¤ä¸ªå¯¹è±¡æ°¸è¿ä¸ä¼æ§è¡ï¼é£ä¹ä¸é¢çæ¹æ³æ¯æ æ³åæ¶è¿ä¸¤ä¸ªâåå¾çâ</p>
<h4 id="å¯è¾¾æ§åæç®æ³ï¼javaåC-é½æ¯ä½¿ç¨è¿ä¸ªç®æ³è¿è¡å¤æ­å¯¹è±¡æ¯å¦å­æ´»ï¼"><a href="#å¯è¾¾æ§åæç®æ³ï¼javaåC-é½æ¯ä½¿ç¨è¿ä¸ªç®æ³è¿è¡å¤æ­å¯¹è±¡æ¯å¦å­æ´»ï¼" class="headerlink" title="å¯è¾¾æ§åæç®æ³ï¼javaåC#é½æ¯ä½¿ç¨è¿ä¸ªç®æ³è¿è¡å¤æ­å¯¹è±¡æ¯å¦å­æ´»ï¼"></a>å¯è¾¾æ§åæç®æ³ï¼javaåC#é½æ¯ä½¿ç¨è¿ä¸ªç®æ³è¿è¡å¤æ­å¯¹è±¡æ¯å¦å­æ´»ï¼</h4><p>éè¿ä¸ç³»åç§°ä¸ºâGC Rootsâçæ ¹å¯¹è±¡ä½ä¸ºèµ·å§èç¹éï¼ç¶åæ ¹æ®å¼ç¨å³ç³»åä¸æç´¢ï¼æç´¢è¿ç¨ä¸­æèµ°è¿çè·¯å¾è¢«ç§°ä¸ºå¼ç¨é¾ï¼å¦ææä¸ªå¯¹è±¡ä¸GC Rootsé´æ²¡æä»»ä½å¼ç¨é¾ç¸è¿ï¼é£ä¹è¿ä¸ªå¯¹è±¡ä¸å¯è½åæ¬¡è¢«ä½¿ç¨ã</p>
<h5 id="è¿ç¨"><a href="#è¿ç¨" class="headerlink" title="è¿ç¨"></a>è¿ç¨</h5><p>å¦æå¯¹è±¡å¨è¿è¡å¯è¾¾æ§åæåç°å¹¶æ²¡æä¸GC Rootsç¸è¿ï¼é£ä¹å°ä¼ç¬¬ä¸æ¬¡æ è®°è¿ä¸ªå¯¹è±¡ï¼å¨éåè¿è¡ä¸æ¬¡ç­éï¼ç­éçæ¡ä»¶æ¯ççå¯¹è±¡æ¯å¦æå¿è¦æ§è¡finalize()æ¹æ³ï¼ï¼<strong>ä¸ä¸ªå¯¹è±¡åªè½è¢«æ§è¡ä¸æ¬¡finalizeæ¹æ³</strong>ï¼ï¼å¦æå¯¹è±¡æ²¡æè¦çè¯¥æ¹æ³æè¯¥æ¹æ³å·²ç»è¢«è°ç¨è¿äºï¼é£ä¹å°±æ²¡æå¿è¦æ§è¡ï¼å¯¹è±¡å°ä¼è¢«åæ¶ï¼å¦ææ§è¡äºfinalizeæ¹æ³ï¼ä¸å¯¹è±¡å¨æ¹æ³ä¸­éæ°ææäºå¯¹è±¡çå¼ç¨ï¼é£ä¹è¿ä¸ªå¯¹è±¡å¯ä»¥è¢«ææ´»ã</p>
<h5 id="æ©å±"><a href="#æ©å±" class="headerlink" title="æ©å±"></a>æ©å±</h5><p>finalize()å¦ä»å·²ç»è¢«å®æ¹å£°æä¸ºä¸æ¨èä½¿ç¨è¯­æ³ï¼æäºæç§ä¹¦ä¸è¯´è¿ä¸ªæ¹æ³éååä¸äºå¯¹è±¡è¢«åæ¶æ¶çæ¸çå·¥ä½ï¼äºå®ä¸è¿æ¯ä¸ªéè¯¯çï¼try-catch-finallyæ¯è¿ä¸ªæ¹æ³æ´éååè¿äºäºæã</p>
<h2 id="ç¥éäºåªäºå¯¹è±¡å·²ç»æ­»äº¡ï¼é£ä¹å¦ä½æ¸çè¿äºå¯¹è±¡"><a href="#ç¥éäºåªäºå¯¹è±¡å·²ç»æ­»äº¡ï¼é£ä¹å¦ä½æ¸çè¿äºå¯¹è±¡" class="headerlink" title="ç¥éäºåªäºå¯¹è±¡å·²ç»æ­»äº¡ï¼é£ä¹å¦ä½æ¸çè¿äºå¯¹è±¡"></a>ç¥éäºåªäºå¯¹è±¡å·²ç»æ­»äº¡ï¼é£ä¹å¦ä½æ¸çè¿äºå¯¹è±¡</h2><h4 id="åä»£æ¶éçè®º"><a href="#åä»£æ¶éçè®º" class="headerlink" title="åä»£æ¶éçè®º"></a>åä»£æ¶éçè®º</h4><p>æ¶éå¨åºè¯¥è®²javaå ååä¸ååºåï¼ç¶ååæ¶å¯¹è±¡ä¾æ®å¶å¹´é¾ï¼å³å¯¹è±¡ç¬è¿åå¾æ¶éè¿ç¨çæ¬¡æ°ï¼åéå°ä¸åçåºåä¸­</p>
<ul>
<li>å¦æä¸ä¸ªåºåä¸­çå¯¹è±¡é½æ¯æççç­çï¼é£ä¹æä»¬æä»ä»¬æ¾å¨ä¸èµ·ï¼ç§°ä»ä»¬ä¸ºâæ°çä»£â</li>
<li>å¦æé½æ¯ä¸äºå¹´é¾æ¯è¾å¤§çé£ä¹æä»¬æä»ä»¬æ¾å¨ä¸èµ·ï¼ç§°ä»ä»¬ä¸ºâèå¹´ä»£â</li>
</ul>
<h5 id="å¸¦æ¥çé®é¢"><a href="#å¸¦æ¥çé®é¢" class="headerlink" title="å¸¦æ¥çé®é¢"></a>å¸¦æ¥çé®é¢</h5><p>å¯¹è±¡ä¸æ¯å­¤ç«çï¼å¯¹è±¡ä¹é´å¯è½åºç°è·¨ä»£å¼ç¨ï¼ä½æ¯æä»¬å¯ä»¥å¾ç¥ï¼å¦æä¸ä¸ªèå¹´ä»£å¯¹è±¡å¼ç¨äºä¸ä¸ªæ°çä»£çå¯¹è±¡ï¼é£ä¹è¿ä¸ªæ°çä»£çå¯¹è±¡å¤§æ¦çä¼å­æ´»ï¼å ä¸ºèå¹´ä»£å¯¹è±¡å¼ç¨äºä»ã</p>
<h4 id="æ è®°-æ¸é¤ç®æ³"><a href="#æ è®°-æ¸é¤ç®æ³" class="headerlink" title="æ è®°-æ¸é¤ç®æ³"></a>æ è®°-æ¸é¤ç®æ³</h4><p>ç¬¬ä¸ä¸ªé¶æ®µæ è®°ææéè¦åæ¶çå¯¹è±¡ï¼æ è®°å®æåç»ä¸åæ¶ææçå¯¹è±¡ï¼å½ç¶ä¹å¯ä»¥æ è®°ä¸è¦è¦åæ¶çå¯¹è±¡ï¼æ è®°å®æåç»ä¸åæ¶æ²¡ææ è®°çå¯¹è±¡ã</p>
<h5 id="ç¹ç¹-2"><a href="#ç¹ç¹-2" class="headerlink" title="ç¹ç¹"></a>ç¹ç¹</h5><ul>
<li>æ§è¡æçä¸ç¨³å®ï¼å¦æjavaå ä¸­åå«å¤§éå¯¹è±¡ãèä¸å¤§é¨åæ¯éè¦è¢«åæ¶çï¼è¿æ¶å¿é¡»è¿è¡å¤§éæ è®°åæ¸é¤å¨ä½ï¼å¯¼è´æ è®°åæ¸é¤è¿ç¨éçå¯¹è±¡æ°éå¢é¿èéä½ã</li>
<li>åå­ç©ºé´çç¢çåé®é¢ï¼æ è®°åä¼äº§çå¤§éä¸è¿ç»­çåå­ç¢çã</li>
</ul>
<h5 id="æ è®°-å¤å¶ç®æ³"><a href="#æ è®°-å¤å¶ç®æ³" class="headerlink" title="æ è®°-å¤å¶ç®æ³"></a>æ è®°-å¤å¶ç®æ³</h5><p>å°åå­æå®¹éååä¸ºå¤§å°ç¸ç­çä¸¤åï¼æ¯æ¬¡ä½¿ç¨åªä½¿ç¨å¶ä¸­çä¸åï¼å½å¶ä¸­çä¸åç¨å®åï¼å°±æææå­æ´»çå¯¹è±¡å¤å¶å°å¦ä¸åä¸é¢ï¼ç¶åæåæ¥çåå­åå¨é¨æ¸é¤ã</p>
<h4 id="ç¹ç¹-3"><a href="#ç¹ç¹-3" class="headerlink" title="ç¹ç¹"></a>ç¹ç¹</h4><p>ä¼ç¹</p>
<ul>
<li>è§£å³äºæ è®°-é¤ç®æ³åå­ç©ºé´ç¢çåé®é¢</li>
<li>å®ç°ç®åè¿è¡é«æï¼åéåå­æ¶æé¡ºåºåéå³å¯</li>
</ul>
<h4 id="ç¼ºç¹-1"><a href="#ç¼ºç¹-1" class="headerlink" title="ç¼ºç¹"></a>ç¼ºç¹</h4><ul>
<li>å¦æåå­ä¸­å¤æ°å¯¹è±¡é½æ¯å­æ´»çï¼é£ä¹è¿ç§ç®æ³å¤å¶æ¶ä¼äº§çå¤§éçæ¶é´å¼é</li>
<li>åå­æµªè´¹ä¸¥éï¼å°å¯ç¨åå­ç¼©å°äºåæ¥çä¸å</li>
</ul>
<h4 id="æ è®°-æ´çç®æ³"><a href="#æ è®°-æ´çç®æ³" class="headerlink" title="æ è®°-æ´çç®æ³"></a>æ è®°-æ´çç®æ³</h4><p>åæ è®°-æ¸é¤ç®æ³ä¸æ ·ï¼ä½æ¯åç»­ä¸æ¯å¯¹å¯åæ¶å¯¹è±¡è¿è¡æ¸çï¼èæ¯è®©ææå­æ´»çå¯¹è±¡é½ååå­ç©ºé´ä¸ç«¯ç§»å¨ï¼ç¶åç´æ¥æ¸çæè¾¹çåå­ã</p>
<h4 id="ç¹ç¹-4"><a href="#ç¹ç¹-4" class="headerlink" title="ç¹ç¹"></a>ç¹ç¹</h4><p>ç¼ºç¹</p>
<ul>
<li>å¦æç§»å¨å­æ´»å¯¹è±¡ï¼å°¤å¶æ¯å¨èå¹´ä»£è¿ç§æ¯æ¬¡åæ¶é½æå¤§éå¯¹è±¡å­æ´»çåºåï¼ç§»å¨å¹¶æ´æ°ææè¿äºå¯¹è±¡çææ³å°ä¼æ¯ä¸ä¸ªæ¶èæå¤§çæä½ã</li>
<li>èä¸è¿ç§ç§»å¨å¯¹è±¡å¿é¡»å¨ç¨æåç¨æ·åºç¨ç¨åºã</li>
</ul>
<h2 id="ç®åçä»ç»ä¸ä¸å¼ºå¼ç¨-è½¯å¼ç¨-å¼±å¼ç¨-èå¼ç¨"><a href="#ç®åçä»ç»ä¸ä¸å¼ºå¼ç¨-è½¯å¼ç¨-å¼±å¼ç¨-èå¼ç¨" class="headerlink" title="ç®åçä»ç»ä¸ä¸å¼ºå¼ç¨,è½¯å¼ç¨,å¼±å¼ç¨,èå¼ç¨"></a>ç®åçä»ç»ä¸ä¸å¼ºå¼ç¨,è½¯å¼ç¨,å¼±å¼ç¨,èå¼ç¨</h2><p>æ è®ºæ¯éè¿å¼ç¨è®¡æ°æ³å¤æ­å¯¹è±¡å¼ç¨æ°éï¼è¿æ¯éè¿å¯è¾¾æ§åææ³å¤æ­å¯¹è±¡çå¼ç¨é¾æ¯å¦å¯è¾¾ï¼å¤å®å¯¹è±¡çå­æ´»é½ä¸âå¼ç¨âæå³ã</p>
<p>JDK1.2ä¹åï¼Javaä¸­å¼ç¨çå®ä¹å¾ä¼ ç»ï¼å¦æreferenceç±»åçæ°æ®å­å¨çæ°å¼ä»£è¡¨çæ¯å¦ä¸ååå­çèµ·å§å°åï¼å°±ç§°è¿ååå­ä»£è¡¨ä¸ä¸ªå¼ç¨ã</p>
<p>JDK1.2ä»¥åï¼Javaå¯¹å¼ç¨çæ¦å¿µè¿è¡äºæ©åï¼å°å¼ç¨åä¸ºå¼ºå¼ç¨ãè½¯å¼ç¨ãå¼±å¼ç¨ãèå¼ç¨åç§ï¼å¼ç¨å¼ºåº¦éæ¸åå¼±ï¼</p>
<h3 id="å¼ºå¼ç¨-StrongReference"><a href="#å¼ºå¼ç¨-StrongReference" class="headerlink" title="å¼ºå¼ç¨(StrongReference)"></a>å¼ºå¼ç¨(StrongReference)</h3><p>ä»¥åæä»¬ä½¿ç¨çå¤§é¨åå¼ç¨å®éä¸é½æ¯å¼ºå¼ç¨ï¼è¿æ¯ä½¿ç¨ææ®éçå¼ç¨ãå¦æä¸ä¸ªå¯¹è±¡å·æå¼ºå¼ç¨ï¼é£å°±ç±»ä¼¼äº<strong>å¿ä¸å¯å°ççæ´»ç¨å</strong>ï¼åå¾åæ¶å¨ç»ä¸ä¼åæ¶å®ãå½åå­ç©º é´ä¸è¶³ï¼Javaèææºå®æ¿æåºOutOfMemoryErroréè¯¯ï¼ä½¿ç¨åºå¼å¸¸ç»æ­¢ï¼ä¹ä¸ä¼é éæåæ¶å·æå¼ºå¼ç¨çå¯¹è±¡æ¥è§£å³åå­ä¸è¶³é®é¢ã</p>
<h3 id="è½¯å¼ç¨-SoftReference"><a href="#è½¯å¼ç¨-SoftReference" class="headerlink" title="è½¯å¼ç¨(SoftReference)"></a>è½¯å¼ç¨(SoftReference)</h3><p>å¦æä¸ä¸ªå¯¹è±¡åªå·æè½¯å¼ç¨ï¼é£å°±ç±»ä¼¼äº<strong>å¯æå¯æ ççæ´»ç¨å</strong>ãå¦æåå­ç©ºé´è¶³å¤ï¼åå¾åæ¶å¨å°±ä¸ä¼åæ¶å®ï¼å¦æåå­ç©ºé´ä¸è¶³äºï¼å°±ä¼åæ¶è¿äºå¯¹è±¡çåå­ãåªè¦åå¾åæ¶å¨æ²¡æåæ¶å®ï¼è¯¥å¯¹è±¡å°±å¯ä»¥è¢«ç¨åºä½¿ç¨ãè½¯å¼ç¨å¯ç¨æ¥å®ç°åå­ææçé«éç¼å­ã</p>
<p>è½¯å¼ç¨å¯ä»¥åä¸ä¸ªå¼ç¨éåï¼ReferenceQueueï¼èåä½¿ç¨ï¼å¦æè½¯å¼ç¨æå¼ç¨çå¯¹è±¡è¢«åå¾åæ¶ï¼JAVAèææºå°±ä¼æè¿ä¸ªè½¯å¼ç¨å å¥å°ä¸ä¹å³èçå¼ç¨éåä¸­ã</p>
<h3 id="å¼±å¼ç¨-WeakReference"><a href="#å¼±å¼ç¨-WeakReference" class="headerlink" title="å¼±å¼ç¨(WeakReference)"></a>å¼±å¼ç¨(WeakReference)</h3><p>å¦æä¸ä¸ªå¯¹è±¡åªå·æå¼±å¼ç¨ï¼é£å°±ç±»ä¼¼äº<strong>å¯æå¯æ ççæ´»ç¨å</strong>ãå¼±å¼ç¨ä¸è½¯å¼ç¨çåºå«å¨äºï¼åªå·æå¼±å¼ç¨çå¯¹è±¡æ¥ææ´ç­æççå½å¨æãå¨åå¾åæ¶å¨çº¿ç¨æ«æå® æç®¡è¾çåå­åºåçè¿ç¨ä¸­ï¼ä¸æ¦åç°äºåªå·æå¼±å¼ç¨çå¯¹è±¡ï¼ä¸ç®¡å½ååå­ç©ºé´è¶³å¤ä¸å¦ï¼é½ä¼åæ¶å®çåå­ãä¸è¿ï¼ç±äºåå¾åæ¶å¨æ¯ä¸ä¸ªä¼åçº§å¾ä½ççº¿ç¨ï¼ å æ­¤ä¸ä¸å®ä¼å¾å¿«åç°é£äºåªå·æå¼±å¼ç¨çå¯¹è±¡ã</p>
<p>å¼±å¼ç¨å¯ä»¥åä¸ä¸ªå¼ç¨éåï¼ReferenceQueueï¼èåä½¿ç¨ï¼å¦æå¼±å¼ç¨æå¼ç¨çå¯¹è±¡è¢«åå¾åæ¶ï¼Javaèææºå°±ä¼æè¿ä¸ªå¼±å¼ç¨å å¥å°ä¸ä¹å³èçå¼ç¨éåä¸­ã</p>
<h3 id="èå¼ç¨ï¼PhantomReferenceï¼"><a href="#èå¼ç¨ï¼PhantomReferenceï¼" class="headerlink" title="èå¼ç¨ï¼PhantomReferenceï¼"></a><strong>èå¼ç¨ï¼PhantomReferenceï¼</strong></h3><p>âèå¼ç¨âé¡¾åæä¹ï¼å°±æ¯å½¢åèè®¾ï¼ä¸å¶ä»å ç§å¼ç¨é½ä¸åï¼èå¼ç¨å¹¶ä¸ä¼å³å®å¯¹è±¡ççå½å¨æãå¦æä¸ä¸ªå¯¹è±¡ä»ææèå¼ç¨ï¼é£ä¹å®å°±åæ²¡æä»»ä½å¼ç¨ä¸æ ·ï¼å¨ä»»ä½æ¶åé½å¯è½è¢«åå¾åæ¶ã</p>
<p><strong>èå¼ç¨ä¸»è¦ç¨æ¥è·è¸ªå¯¹è±¡è¢«åå¾åæ¶çæ´»å¨</strong>ã</p>
<p><strong>èå¼ç¨ä¸è½¯å¼ç¨åå¼±å¼ç¨çä¸ä¸ªåºå«å¨äºï¼</strong> èå¼ç¨å¿é¡»åå¼ç¨éåï¼ReferenceQueueï¼èåä½¿ç¨ãå½å å¾åæ¶å¨åå¤åæ¶ä¸ä¸ªå¯¹è±¡æ¶ï¼å¦æåç°å®è¿æèå¼ç¨ï¼å°±ä¼å¨åæ¶å¯¹è±¡çåå­ä¹åï¼æè¿ä¸ªèå¼ç¨å å¥å°ä¸ä¹å³èçå¼ç¨éåä¸­ãç¨åºå¯ä»¥éè¿å¤æ­å¼ç¨éåä¸­æ¯ å¦å·²ç»å å¥äºèå¼ç¨ï¼æ¥äºè§£è¢«å¼ç¨çå¯¹è±¡æ¯å¦å°è¦è¢«åå¾åæ¶ãç¨åºå¦æåç°æä¸ªèå¼ç¨å·²ç»è¢«å å¥å°å¼ç¨éåï¼é£ä¹å°±å¯ä»¥å¨æå¼ç¨çå¯¹è±¡çåå­è¢«åæ¶ä¹åéåå¿è¦çè¡å¨ã</p>
<p>ç¹å«æ³¨æï¼å¨ç¨åºè®¾è®¡ä¸­ä¸è¬å¾å°ä½¿ç¨å¼±å¼ç¨ä¸èå¼ç¨ï¼ä½¿ç¨è½¯å¼ç¨çæåµè¾å¤ï¼è¿æ¯å ä¸º<strong>è½¯å¼ç¨å¯ä»¥å éJVMå¯¹åå¾åå­çåæ¶éåº¦ï¼å¯ä»¥ç»´æ¤ç³»ç»çè¿è¡å®å¨ï¼é²æ­¢åå­æº¢åºï¼OutOfMemoryï¼ç­é®é¢çäº§ç</strong>ã</p>
<h3 id="è§¦åGCçæ¡ä»¶"><a href="#è§¦åGCçæ¡ä»¶" class="headerlink" title="è§¦åGCçæ¡ä»¶"></a>è§¦åGCçæ¡ä»¶</h3><p>  é¦åï¼GCå åå­åä¸ºä¸é¨åï¼Young Generationï¼Old Generationï¼Permanent Generationã</p>
<p>â    <strong>Young Generation åä¸ºï¼Eden , Survivor1 , Survivor2</strong>ï¼ <strong>æ°åå»ºçå¯¹è±¡ä¼åéå¨Edenåº,å¨ç»åä¸æ¬¡Minor GCåä¼è¢«ç§»å°Survivor 1åºï¼åç»åä¸æ¬¡Minor GCåä¼è¢«ç§»å°Survivor 2åº</strong>ï¼å¦æSurvivorç©ºé´ä¸è¶³ï¼åä¼ç´æ¥æå­æ´»å¯¹è±¡å¤å¶å°èå¹´ä»£ï¼ç¶åæ¸ç©ºedenåº,éè¦æ³¨æçæ¯ï¼ä¸äº<strong>å¤§å¯¹è±¡(é¿å­ç¬¦ä¸²ææ°ç»)å¯è½ä¼ç´æ¥å­æ¾å°èå¹´ä»£</strong>ï¼åå°èå¹´ä»£å½ç©ºé´ä¸è¶³çæ¶åï¼ä¼åçFull GCï¼æèå°äºæ¶ï¼æ¥çæ¯å¦è®¾ç½®äºXX:+HandlePromotionFailure(åè®¸æä¿å¤±è´¥)åæ°ï¼è¥åè®¸ï¼ååªä¼è¿è¡Minor GCï¼æ­¤æ¶å¯ä»¥å®¹å¿åå­åéå¤±è´¥ï¼è¥ä¸åè®¸ï¼å¼ºå¶Full GCã</p>
<p> <img src="/upload/image-20200427225409868.png" alt="image-20200427225409868"></p>
<h4 id="è§¦åMinorGC-Young-GC"><a href="#è§¦åMinorGC-Young-GC" class="headerlink" title="è§¦åMinorGC(Young GC)"></a>è§¦åMinorGC(Young GC)</h4><p>  èææºå¨è¿è¡minorGCä¹åä¼å¤æ­èå¹´ä»£æå¤§çå¯ç¨è¿ç»­ç©ºé´æ¯å¦å¤§äºæ°çä»£çææå¯¹è±¡æ»ç©ºé´</p>
<p>  1ãå¦æå¤§äºçè¯ï¼ç´æ¥æ§è¡minorGC</p>
<p>  2ãå¦æå°äºï¼å¤æ­æ¯å¦å¼å¯HandlerPromotionFailureï¼æ²¡æå¼å¯ç´æ¥FullGC</p>
<p>  3ãå¦æå¼å¯äºHanlerPromotionFailure, JVMä¼å¤æ­èå¹´ä»£çæå¤§è¿ç»­åå­ç©ºé´æ¯å¦å¤§äºåæ¬¡æåçå¤§å°ï¼å¦æå°äºç´æ¥æ§è¡FullGC</p>
<p>  4ãå¦æå¤§äºçè¯ï¼æ§è¡minorGC</p>
<h4 id="è§¦åFullGC"><a href="#è§¦åFullGC" class="headerlink" title="è§¦åFullGC"></a>è§¦åFullGC</h4><ul>
<li><p>èå¹´ä»£ç©ºé´ä¸è¶³</p>
<p> å¦æåå»ºä¸ä¸ªå¤§å¯¹è±¡ï¼Edenåºåå½ä¸­æ¾ä¸ä¸è¿ä¸ªå¤§å¯¹è±¡ï¼ä¼ç´æ¥ä¿å­å¨èå¹´ä»£å½ä¸­ï¼å¦æèå¹´ä»£ç©ºé´ä¹ä¸è¶³ï¼å°±ä¼è§¦åFull GCãä¸ºäºé¿åè¿ç§æåµï¼æå¥½å°±æ¯ä¸è¦åå»ºå¤ªå¤§çå¯¹è±¡ã</p>
</li>
<li><p>æä¹ä»£ç©ºé´ä¸è¶³</p>
<p> å¦æææä¹ä»£ç©ºé´çè¯ï¼ç³»ç»å½ä¸­éè¦å è½½çç±»ï¼è°ç¨çæ¹æ³å¾å¤ï¼åæ¶æä¹ä»£å½ä¸­æ²¡æè¶³å¤çç©ºé´ï¼å°±åºè§¦åä¸æ¬¡Full GC</p>
</li>
<li><p>YGCåºç°promotion failure</p>
<p>promotion failureåçå¨Young GC, å¦æSurvivoråºå½ä¸­å­æ´»å¯¹è±¡çå¹´é¾è¾¾å°äºè®¾å®å¼ï¼ä¼å°±å°Survivoråºå½ä¸­çå¯¹è±¡æ·è´å°èå¹´ä»£ï¼å¦æèå¹´ä»£çç©ºé´ä¸è¶³ï¼å°±ä¼åçpromotion failureï¼ æ¥ä¸å»å°±ä¼åçFull GC.</p>
</li>
<li><p>ç»è®¡YGCåçæ¶æåå°èå¹´ä»£çå¹³åæ»å¤§å°å¤§äºèå¹´ä»£çç©ºé²ç©ºé´</p>
<p> å¨åçYGCæ¯ä¼å¤æ­ï¼æ¯å¦å®å¨ï¼è¿éçå®å¨æçæ¯ï¼å½åèå¹´ä»£ç©ºé´å¯ä»¥å®¹çº³YGCæåçå¯¹è±¡çå¹³åå¤§å°ï¼å¦æä¸å®å¨ï¼å°±ä¸ä¼æ§è¡YGC,è½¬èæ§è¡Full GCã</p>
</li>
<li><p>æ¾ç¤ºè°ç¨System.gcéç¥åå¾åæ¶æ¶</p>
</li>
</ul>
<h2 id="ç»å¸åå¾æ¶éå¨"><a href="#ç»å¸åå¾æ¶éå¨" class="headerlink" title="ç»å¸åå¾æ¶éå¨"></a>ç»å¸åå¾æ¶éå¨</h2><h3 id="Serialæ¶éå¨"><a href="#Serialæ¶éå¨" class="headerlink" title="Serialæ¶éå¨"></a>Serialæ¶éå¨</h3><p>Serialæ¶éå¨æ¯æåºç¡ãåå²ææ ä¹çæ¶éå¨ï¼æ¾ç»ï¼å¨JDK1.3.1ä¹åï¼æ¯HotSpotèææºæ°çä»£æ¶éå¨çå¯ä¸éæ©ï¼æ¶è³ä»æ¥ï¼åå¾æ¶éå¨çä¸æ­æ¹è¿ï¼ä¸æ­åºæ°ï¼Serialä¾ç¶å¨æä»¬çåå¾æ¶éå¨çéé¡¹éé¢ã</p>
<p><img src="/upload/1584515975770.png" alt="1584515975770"></p>
<h4 id="ç¹ç¹-5"><a href="#ç¹ç¹-5" class="headerlink" title="ç¹ç¹"></a>ç¹ç¹</h4><ul>
<li>ä¼ç¹ï¼ç®åé«æï¼æ¥æå¾é«çåçº¿ç¨æ¶éæç</li>
<li>ç¼ºç¹ï¼æ¶éè¿ç¨éè¦æåææçº¿ç¨</li>
<li>ä½¿ç¨ç®æ³ï¼å¤å¶ç®æ³</li>
<li>éç¨èå´ï¼æ°çä»£</li>
<li>åºç¨ï¼Clientæ¨¡å¼ä¸çé»è®¤æ°çä»£æ¶éå¨</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¯¹äºSerialæ¶éå¨ç¼ºç¹æä¸ä¸ªæ¯è¾æææçæäºï¼Serialæ¶éå¨çè¿è¡è¿ç¨éè¦æååºç¨ç¨åºææçº¿ç¨ï¼Stop The Worldï¼ï¼å®å¸¦ç»ç¨æ·çæ¶å£ä½éªãæ©æHotSpotèææºçè®¾è®¡èä»¬è¡¨ç¤ºå®å¨çè§£ï¼ä½ä¹åæ¶è¡¨ç¤ºéå¸¸å§å±ï¼âä½ å¦å¦å¨ç»ä½ ææ«æ¿é´çæ¶åï¼è¯å®ä¹ä¼è®©ä½ èèå®å®å°å¨æ¤å­ä¸æèæ¿é´å¤å¾çï¼å¦æå¥¹ä¸è¾¹ææ«ï¼ä½ ä¸è¾¹ä¹±æçº¸å±ï¼è¿æ¿é´è¿è½ææ«å®ï¼âè¿ç¡®å®æ¯ä¸ä¸ªåæåçççç¾ï¼è½ç¶åå¾æ¶éè¿é¡¹å·¥ä½å¬èµ·æ¥åææ«æ¿é´å±äºä¸ä¸ªå·¥ç§ï¼ä½å®éä¸è¯å®è¿è¦æ¯ææ«æ¿é´å¤æå¾å¤ï¼ï¼ç°å¨çåå¾æ¶éå¨ä¸æ ·éè¦åé¡¿ï¼åªæ¯é½åå°äºæ¯«ç§çº§ï¼</span><br></pre></td></tr></table></figure>

<h4 id="ä½¿ç¨è¯¥åå¾æ¶éå¨-XX-UseSerialGC"><a href="#ä½¿ç¨è¯¥åå¾æ¶éå¨-XX-UseSerialGC" class="headerlink" title="ä½¿ç¨è¯¥åå¾æ¶éå¨ -XX:+UseSerialGC"></a>ä½¿ç¨è¯¥åå¾æ¶éå¨ -XX:+UseSerialGC</h4><p>ä½¿ç¨ä¹åæä»¬å¯ä»¥å»æ¥çä¸ä¸ï¼å½åèææºæ¯å¦ä½¿ç¨çSerialï¼å¦ææ¯æä»¬ä¸éè¦å»æ´æ¹ï¼å¦æä¸æ¯åæ·»å åæ°ï¼<code>-XX:+UseSerialGC</code>ã</p>
<h3 id="ParNewæ¶éå¨"><a href="#ParNewæ¶éå¨" class="headerlink" title="ParNewæ¶éå¨"></a>ParNewæ¶éå¨</h3><p>ParNewæ¶éå¨å®è´¨ä¸æ¯Serialæ¶éå¨çå¤çº¿ç¨å¹¶è¡çæ¬</p>
<p><img src="/upload/1584516098000.png" alt="1584516098000"></p>
<h4 id="ParNewæ¶éå¨çç¹ç¹ï¼"><a href="#ParNewæ¶éå¨çç¹ç¹ï¼" class="headerlink" title="ParNewæ¶éå¨çç¹ç¹ï¼"></a>ParNewæ¶éå¨çç¹ç¹ï¼</h4><h5 id="ä¼ç¹ï¼"><a href="#ä¼ç¹ï¼" class="headerlink" title="ä¼ç¹ï¼"></a>ä¼ç¹ï¼</h5><p>å¨å¤CPUæ¶ï¼æ¯Serialæçé«ã</p>
<h5 id="ç¼ºç¹ï¼"><a href="#ç¼ºç¹ï¼" class="headerlink" title="ç¼ºç¹ï¼"></a>ç¼ºç¹ï¼</h5><p>æ¶éè¿ç¨æåææåºç¨ç¨åºçº¿ç¨ï¼åCPUæ¶æ¯Serialæçå·®ã</p>
<h5 id="ä½¿ç¨ç®æ³ï¼"><a href="#ä½¿ç¨ç®æ³ï¼" class="headerlink" title="ä½¿ç¨ç®æ³ï¼"></a>ä½¿ç¨ç®æ³ï¼</h5><p>å¤å¶ç®æ³</p>
<h5 id="éç¨èå´ï¼"><a href="#éç¨èå´ï¼" class="headerlink" title="éç¨èå´ï¼"></a>éç¨èå´ï¼</h5><p>æ°çä»£</p>
<h5 id="åºç¨ï¼"><a href="#åºç¨ï¼" class="headerlink" title="åºç¨ï¼"></a>åºç¨ï¼</h5><p>è¿è¡å¨Serveræ¨¡å¼ä¸çèææºä¸­é¦éçæ°çä»£æ¶éå¨<br><strong>ä½¿ç¨ParNewæ¶éå¨ -XX:+UseParNewGC</strong></p>
<h2 id="Parallel-Scavengeæ¶éå¨"><a href="#Parallel-Scavengeæ¶éå¨" class="headerlink" title="Parallel Scavengeæ¶éå¨"></a>Parallel Scavengeæ¶éå¨</h2><p>Parallel Scavengeæ¶éå¨ä¹æ¯ä¸æ¬¾æ°çä»£æ¶éå¨ï¼å®åæ ·æ¯åºäºæ è®°-å¤å¶ç®æ³å®ç°çæ¶éå¨ï¼ä¹æ¯è½å¤å¹¶è¡æ¶éçå¤çº¿ç¨æ¶éå¨â¦â¦Parallel Scavengeçè¯¸å¤ç¹æ§ä»è¡¨é¢ä¸çåParNewéå¸¸ç¸ä¼¼ï¼Parallel Scavengeæ¶éå¨çç¹ç¹æ¯å®çå³æ³¨ç¹ä¸å¶ä»æ¶éå¨ä¸åï¼CMSç­æ¶éå¨çå³æ³¨ç¹æ¯å°½å¯è½å°ç¼©ç­åå¾æ¶éæ¶ç¨æ·çº¿ç¨çåé¡¿æ¶é´ï¼èParallel Scavengeæ¶éå¨çç®æ åæ¯è¾¾å°ä¸ä¸ªå¯æ§å¶çååéï¼Throughputï¼ãæè°ååéå°±æ¯å¤çå¨ç¨äºè¿è¡ç¨æ·ä»£ç çæ¶é´ä¸å¤çå¨æ»æ¶èæ¶é´çæ¯å¼ã</p>
<ul>
<li>ååé = è¿è¡ç¨æ·ä»£ç æ¶é´/è¿è¡ç¨æ·ä»£ç æ¶é´ + è¿è¡åå¾æ¶éå¨æ¶é´ã</li>
<li>æ¯å¦èææºæ»å±è¿è¡äº100åéï¼åå¾æ¶éæ¶é´ç¨äº1åéï¼ååé=(100-1)/100=99%ã</li>
<li>è¥ååéè¶å¤§ï¼æå³çåå¾æ¶éçæ¶é´è¶ç­ï¼åç¨æ·ä»£ç å¯ä»¥ååå©ç¨CPUèµæºï¼å°½å¿«å®æç¨åºçè¿ç®ä»»å¡ã</li>
</ul>
<h4 id="ååéæä»¬å¯ä»¥èªè¡æ§å¶ï¼"><a href="#ååéæä»¬å¯ä»¥èªè¡æ§å¶ï¼" class="headerlink" title="ååéæä»¬å¯ä»¥èªè¡æ§å¶ï¼"></a>ååéæä»¬å¯ä»¥èªè¡æ§å¶ï¼</h4><p>ååéæä»¬ä»ä¸é¢çæè¿°å¯ä»¥çå°ï¼ä»æ¯ä¸ä¸ªæ¯å¼ãé£ä¹æä»¬èªç¶è½å¤éè¿è°æ´æ¯å¼çåæ°æ¥å½±åååéãä¸»è¦æ¶åçå½ä»¤æä¸ä¸ä¸¤ä¸ª</p>
<p><strong>-XX:MaxGCPauseMillis æ§å¶æå¤§çåå¾æ¶éæ¶é´</strong><br><strong>-XX:GCTimeRatio ç´æ¥è®¾ç½®ååéçå¤§å°</strong><br>æ ¹æ®ååéå¯¹åºçè®¡ç®å¬å¼æä»¬å¯ä»¥çå°ï¼å½æä»¬çåå¾æ¶éåé¡¿æ¶é´åç­çæ¶åï¼åå¾æ¶éåé¡¿æ¯ä¸ä¸ªå¤§äº0çæ¯«ç§æ°ï¼ï¼æä»¬çååéå¨å¢å¤§ãä¸è¿å¤§å®¶ä¸è¦å¼æ³å¤©å¼å°è®¤ä¸ºå¦ææè¿ä¸ªåæ°çå¼è®¾ç½®å¾æ´å°ä¸ç¹å°±è½ä½¿å¾ç³»ç»çåå¾æ¶ééåº¦åå¾æ´å¿«ï¼å½æä»¬æè¿ä¸ªåæ°è®¾ç½®çæ´å°çæ¶åï¼å®å¯¹åºçè½å¤æææ¶éçæ¶é´æèç©ºé´ä¼åå°ãåè¥åé¡¿æ¶é´ä¸º100msè½å¤æ¶é500Mçå ç©ºé´ï¼é£ä¹50msè½å¤æ¶éçç©ºé´å¯è½ä¼ä½äº250Mçå ç©ºé´ãåå¾æ¶éå¨çææå·¥ä½æ¶é´åç­ï¼æ¶éåå¾çæçå¹¶ä¸ä¸å®æé«ï¼åæ¶å¯¹åºçä¹åªè½ç¸å¯¹çè°æ´æä»¬çååéã</p>
<h4 id="ä½¿ç¨Parallel-Scavengeæ¶éå¨-XX-UseParallelGC"><a href="#ä½¿ç¨Parallel-Scavengeæ¶éå¨-XX-UseParallelGC" class="headerlink" title="ä½¿ç¨Parallel Scavengeæ¶éå¨ -XX:+UseParallelGC"></a>ä½¿ç¨Parallel Scavengeæ¶éå¨ -XX:+UseParallelGC</h4><h3 id="Serial-Oldæ¶éå¨"><a href="#Serial-Oldæ¶éå¨" class="headerlink" title="Serial Oldæ¶éå¨"></a>Serial Oldæ¶éå¨</h3><p>Serial Oldæ¯Serialæ¶éå¨çèå¹´ä»£çæ¬ï¼å®åæ ·æ¯ä¸ä¸ªåçº¿ç¨æ¶éå¨ï¼ä½¿ç¨æ è®°-æ´çç®æ³ãè¿ä¸ªæ¶éå¨çä¸»è¦æä¹ä¹æ¯ä¾å®¢æ·ç«¯æ¨¡å¼ä¸çHotSpotèææºä½¿ç¨ã</p>
<p><img src="/upload/1584516209565.png" alt="1584516209565"></p>
<h3 id="Parallel-Oldæ¶éå¨"><a href="#Parallel-Oldæ¶éå¨" class="headerlink" title="Parallel Oldæ¶éå¨"></a>Parallel Oldæ¶éå¨</h3><p>Parallel Oldæ¶éå¨æ¯Parallel Scavengeæ¶éå¨çèå¹´ä»£çæ¬ï¼ä½¿ç¨å¤çº¿ç¨åâæ è®°-æ´çç®æ³âè¿è¡åå¾åæ¶ã</p>
<h3 id="CMSæ¶éå¨"><a href="#CMSæ¶éå¨" class="headerlink" title="CMSæ¶éå¨"></a>CMSæ¶éå¨</h3><p><img src="/upload/1584516260367.png" alt="1584516260367"></p>
<p>CMSï¼Concurrent Mark Sweepï¼æ¶éå¨æ¯ä¸ç§ä»¥è·åæç­åæ¶åé¡¿æ¶é´ä¸ºç®æ çæ¶éå¨ãå®çè¿ä½è¿ç¨ç¸å¯¹äºåé¢å ç§æ¶éå¨æ¥è¯´è¦æ´å¤æä¸äºï¼æ´ä¸ªè¿ç¨åä¸ºåä¸ªæ­¥éª¤ï¼åæ¬ï¼</p>
<p>1ï¼åå§æ è®°ï¼CMS initial markï¼<br>2ï¼å¹¶åæ è®°ï¼CMS concurrent markï¼<br>3ï¼éæ°æ è®°ï¼CMS remarkï¼<br>4ï¼å¹¶åæ¸é¤ï¼CMS concurrent sweepï¼<br>ç±äºæ´ä¸ªè¿ç¨ä¸­ï¼å¹¶åæ è®°åå¹¶åæ¸é¤ï¼æ¶éå¨çº¿ç¨å¯ä»¥ä¸ç¨æ·çº¿ç¨ä¸èµ·å·¥ä½ï¼æä»¥æ»ä½ä¸æ¥<br>è¯´ï¼CMSæ¶éå¨çåå­åæ¶è¿ç¨æ¯ä¸ç¨æ·çº¿ç¨ä¸èµ·å¹¶åå°æ§è¡çã</p>
<h4 id="CMSæ¶éå¨ç¹ç¹ï¼"><a href="#CMSæ¶éå¨ç¹ç¹ï¼" class="headerlink" title="CMSæ¶éå¨ç¹ç¹ï¼"></a>CMSæ¶éå¨ç¹ç¹ï¼</h4><p>ä¼ç¹ï¼å¹¶åæ¶éãä½åé¡¿<br>ç¼ºç¹ï¼äº§çå¤§éç©ºé´ç¢çãå¹¶åé¶æ®µä¼éä½ååé</p>
<h5 id="ä½¿ç¨CMSæ¶éå¨-XX-UseConcMarkSweepGC"><a href="#ä½¿ç¨CMSæ¶éå¨-XX-UseConcMarkSweepGC" class="headerlink" title="ä½¿ç¨CMSæ¶éå¨ -XX:+UseConcMarkSweepGC"></a>ä½¿ç¨CMSæ¶éå¨ -XX:+UseConcMarkSweepGC</h5><h3 id="Garbage-Firstæ¶éå¨"><a href="#Garbage-Firstæ¶éå¨" class="headerlink" title="Garbage Firstæ¶éå¨"></a>Garbage Firstæ¶éå¨</h3><p>Garbage Firstï¼ç®ç§°G1ï¼æ¶éå¨æ¯åå¾æ¶éå¨ææ¯åå±åå²ä¸çéç¨ç¢å¼çææï¼å®æ¯ä¸æ¬¾ä¸»è¦é¢åæå¡ç«¯åºç¨çåå¾æ¶éå¨</p>
<p>ä½¿ç¨G1æ¶éå¨æ¶ï¼Javaå çåå­å¸å±ä¸å°±ä¸å¶ä»æ¶éå¨æå¾å¤§å·®å«ï¼å®å°æ´ä¸ªJavaå ååä¸ºå¤ä¸ªå¤§å°ç¸ç­çç¬ç«åºåï¼Regionï¼ï¼è½ç¶è¿ä¿çææ°çä»£åèå¹´ä»£çæ¦å¿µï¼ä½æ°çä»£åèå¹´ä»£ä¸åæ¯ç©çéç¦»çäºï¼å®ä»¬é½æ¯ä¸é¨åRegionï¼ä¸éè¦è¿ç»­ï¼çéåã</p>
<h4 id="G1æ¶éå¨çè¿ä½è¿ç¨å¤§è´å¯ååä¸ºä»¥ä¸åä¸ªæ­¥éª¤ï¼"><a href="#G1æ¶éå¨çè¿ä½è¿ç¨å¤§è´å¯ååä¸ºä»¥ä¸åä¸ªæ­¥éª¤ï¼" class="headerlink" title="G1æ¶éå¨çè¿ä½è¿ç¨å¤§è´å¯ååä¸ºä»¥ä¸åä¸ªæ­¥éª¤ï¼"></a>G1æ¶éå¨çè¿ä½è¿ç¨å¤§è´å¯ååä¸ºä»¥ä¸åä¸ªæ­¥éª¤ï¼</h4><p>åå§æ è®°ï¼Initial Markingï¼<br>å¹¶åæ è®°ï¼Concurrent Markingï¼<br>æç»æ è®°ï¼Final Markingï¼<br>ç­éåæ¶ï¼Live Data Counting and Evacuationï¼</p>
<h4 id="å¤æ­æ¯å¦éè¦ä½¿ç¨G1æ¶éå¨ï¼"><a href="#å¤æ­æ¯å¦éè¦ä½¿ç¨G1æ¶éå¨ï¼" class="headerlink" title="å¤æ­æ¯å¦éè¦ä½¿ç¨G1æ¶éå¨ï¼"></a>å¤æ­æ¯å¦éè¦ä½¿ç¨G1æ¶éå¨ï¼</h4><p>ï¼1ï¼50%ä»¥ä¸çå è¢«å­æ´»å¯¹è±¡å ç¨<br>ï¼2ï¼å¯¹è±¡åéåæåçéåº¦ååéå¸¸å¤§<br>ï¼3ï¼åå¾åæ¶æ¶é´æ¯è¾é¿<br><strong>ä½¿ç¨Garbage Firstæ¶éå¨ -XX:+UseG1G</strong></p>

            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        Author:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://yoursite.com" rel="external nofollow noreferrer">yang295513</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        Link:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://yoursite.com/2020/04/28/jvmå­¦ä¹ ç¬¬ä¸å¤©-èªå¨åå­ç®¡ç/">http://yoursite.com/2020/04/28/jvmå­¦ä¹ ç¬¬ä¸å¤©-èªå¨åå­ç®¡ç/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        Reprint policy:
                    </i>
                </span>
                <span class="reprint-info">
                    All articles in this blog are used except for special statements
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    reprint polocy. If reproduced, please indicate source
                    <a href="http://yoursite.com" target="_blank">yang295513</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>Copied successfully, please follow the reprint policy of this article</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">more</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            <span class="chip bg-color">No tag</span>
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>å¾®ä¿¡æ«ä¸æ«å³å¯åäº«ï¼</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
        </div>
    </div>

    
        <link rel="stylesheet" href="/libs/gitalk/gitalk.css">
<link rel="stylesheet" href="/css/my-gitalk.css">

<div class="card gitalk-card" data-aos="fade-up">
    <div class="comment_headling" style="font-size: 20px; font-weight: 700; position: relative; padding-left: 20px; top: 15px; padding-bottom: 5px;">
        <i class="fas fa-comments fa-fw" aria-hidden="true"></i>
        <span>è¯è®º</span>
    </div>
    <div id="gitalk-container" class="card-content"></div>
</div>

<script src="/libs/gitalk/gitalk.min.js"></script>
<script>
    let gitalk = new Gitalk({
        clientID: '7dad6e26db78e598a24f',
        clientSecret: 'c057252cfb6ce37e40795bb582e0e75a069adeb4',
        repo: 'yang295513.github.io',
        owner: 'yang295513',
        admin: ["yang295513"],
        id: '2020-04-28T19-48-27',
        distractionFreeMode: false  // Facebook-like distraction free mode
    });

    gitalk.render('gitalk-container');
</script>

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;Previous</div>
            <div class="card">
                <a href="/2020/04/28/javaå¨ææ§ççè§£/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/19.jpg" class="responsive-img" alt="javaå¨ææ§ççè§£">
                        
                        <span class="card-title">javaå¨ææ§ççè§£</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            ä»ä¹æ¯å¨æè¯­è¨å¨æç±»åè¯­è¨åéæç±»åè¯­è¨ä¸¤èçåºå«å°±å¨äºå¯¹ç±»åçæ£æ¥æ¯å¨ç¼è¯æè¿æ¯å¨è¿è¡æã
èä¸å¨æè¯­è¨å¯ä»¥å¨è¿è¡çæ¶åæ¹åå¶ç»æã
javaè¯­è¨çå¨ææ§java è¯­è¨çå¨ææ§ä½ç°å¨é¢åå¯¹è±¡è®¾è®¡æ¹æ³ä¸­çæ©å±ï¼åè®¸ç¨åºå¨æçè£å¥è¿ç¨ä¸­éè¦ç
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2020-04-28
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            yang295513
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/java/">
                        <span class="chip bg-color">java</span>
                    </a>
                    
                    <a href="/tags/å¨ææ§/">
                        <span class="chip bg-color">å¨ææ§</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                Next&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2020/04/18/ThreadLocalè¯¦è§£/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/6.jpg" class="responsive-img" alt="ThreadLocalè¯¦è§£">
                        
                        <span class="card-title">ThreadLocalè¯¦è§£</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            ThreadLocalç®ä»
å¤çº¿ç¨è®¿é®åä¸ä¸ªå±äº«åéçæ¶åå®¹æäº§çå¹¶åé®é¢ï¼ä¸ºäºä¿è¯çº¿ç¨å®å¨é¤äºä½¿ç¨éçæ¹å¼ï¼ä½¿ç¨ThreadLocalè¾¾å°çº¿ç¨éç¦»çææï¼ä¹æ¯ä¸ç§ä¸éçæ¹æ¡

åè½
ä¼ éæ°æ®ï¼å ä¸ºåä¸ä¸ªçº¿ç¨å¨ä»»ä½æåµä¸è·åå°çé½æ¯åä¸ä¸ªå¯¹
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2020-04-18
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/å¹¶å/" class="post-category">
                                    å¹¶å
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/ThreadLocal/">
                        <span class="chip bg-color">ThreadLocal</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- ä»£ç ååè½ä¾èµ -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- ä»£ç è¯­è¨ -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- ä»£ç åå¤å¶ -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- ä»£ç åæ¶ç¼© -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


<!-- ä»£ç åæè¡ -->


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;TOC</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC æ¬æµ®æé®. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* ä¿®å¤æç« å¡ç div çå®½åº¦. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // åæ¢TOCç®å½å±å¼æ¶ç¼©çç¸å³æä½.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
    <div class="container row center-align" style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            <span id="year">2018</span>
            <a href="http://yoursite.com" target="_blank">yang295513</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            &nbsp;<i class="fas fa-chart-area"></i>&nbsp;ç«ç¹æ»å­æ°:&nbsp;<span
                class="white-color">210.7k</span>&nbsp;å­
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;æ»è®¿é®é:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;æ¬¡
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;æ»è®¿é®äººæ°:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;äºº
            </span>
            
            <br>
            
            <span id="sitetime">è½½å¥è¿è¡æ¶é´...</span>
            <script>
                function siteTime() {
                    var seconds = 1000;
                    var minutes = seconds * 60;
                    var hours = minutes * 60;
                    var days = hours * 24;
                    var years = days * 365;
                    var today = new Date();
                    var startYear = "2018";
                    var startMonth = "6";
                    var startDate = "28";
                    var startHour = "0";
                    var startMinute = "0";
                    var startSecond = "0";
                    var todayYear = today.getFullYear();
                    var todayMonth = today.getMonth() + 1;
                    var todayDate = today.getDate();
                    var todayHour = today.getHours();
                    var todayMinute = today.getMinutes();
                    var todaySecond = today.getSeconds();
                    var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                    var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                    var diff = t2 - t1;
                    var diffYears = Math.floor(diff / years);
                    var diffDays = Math.floor((diff / days) - diffYears * 365);
                    var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
                    var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) /
                        minutes);
                    var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours -
                        diffMinutes * minutes) / seconds);
                    if (startYear == todayYear) {
                        document.getElementById("year").innerHTML = todayYear;
                        document.getElementById("sitetime").innerHTML = "æ¬ç«å·²å®å¨è¿è¡ " + diffDays + " å¤© " + diffHours +
                            " å°æ¶ " + diffMinutes + " åé " + diffSeconds + " ç§";
                    } else {
                        document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                        document.getElementById("sitetime").innerHTML = "æ¬ç«å·²å®å¨è¿è¡ " + diffYears + " å¹´ " + diffDays +
                            " å¤© " + diffHours + " å°æ¶ " + diffMinutes + " åé " + diffSeconds + " ç§";
                    }
                }
                setInterval(siteTime, 1000);
            </script>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis"><!-- 
    <a href="https://github.com/yang295513" class="tooltipped" target="_blank" data-tooltip="è®¿é®æçGitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:15993343299@163.com" class="tooltipped" target="_blank" data-tooltip="é®ä»¶èç³»æ" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1354669134" class="tooltipped" target="_blank" data-tooltip="QQèç³»æ: 1354669134" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS è®¢é" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>
 -->
</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- æç´¢é®ç½©æ¡ -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;Search</span>
            <input type="search" id="searchInput" name="s" placeholder="Please enter a search keyword"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/search.xml", 'searchInput', 'searchResult');
});
</script>

    <!-- åå°é¡¶é¨æé® -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    
    <script>
        (function (i, s, o, g, r, a, m) {
            i["DaoVoiceObject"] = r;
            i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o), m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            a.charset = "utf-8";
            m.parentNode.insertBefore(a, m)
        })(window, document, "script", ('https:' == document.location.protocol ? 'https:' : 'http:') +
            "//widget.daovoice.io/widget/6984b559.js", "daovoice")
        daovoice('init', {
            app_id: "3fff06bf"
        });
        daovoice('update');
    </script>
    

    

    

    
    <script type="text/javascript" src="/libs/background/ribbon-dynamic.js" async="async"></script>
    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
